<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>NEONEX</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Ethers -->
<script src="https://cdn.jsdelivr.net/npm/ethers@6.7.0/dist/ethers.umd.min.js"></script>

<!-- Web3Auth -->
<script src="https://unpkg.com/@web3auth/modal@latest/dist/modal.umd.min.js"></script>

</head>

<body class="bg-black text-white flex items-center justify-center h-screen">

<div class="text-center">

<h1 class="text-3xl mb-6 font-light">NEONEX</h1>

<button id="connectBtn"
onclick="loginSocial()"
class="bg-indigo-600 px-6 py-3 rounded-lg">

Acessar

</button>

<div id="dashboard" class="hidden mt-6">

<select id="network"
onchange="switchNetwork()"
class="bg-black border border-gray-600 p-2 rounded mb-4">

<option value="polygon">Polygon</option>

<option value="ethereum">Ethereum</option>

<option value="bsc">BNB Chain</option>

</select>

<h2 class="text-gray-400 text-sm">

Saldo

</h2>

<div id="balance"
class="text-3xl mt-2">

0

</div>

</div>

</div>

<script>

let web3auth;
let provider;
let address;

let currentChain = "polygon";

const RPCS = {

polygon: "https://polygon-rpc.com",

ethereum: "https://rpc.ankr.com/eth",

bsc: "https://rpc.ankr.com/bsc"

};

const SYMBOLS = {

polygon: "POL",

ethereum: "ETH",

bsc: "BNB"

};

async function init(){

web3auth = new window.Web3Auth.Web3AuthModal({

clientId: "SEU CLIENT ID AQUI",

chainConfig: {

chainNamespace: "eip155",

chainId: "0x89",

rpcTarget: "https://polygon-rpc.com"

}

});

await web3auth.initModal();

}

async function loginSocial(){

const web3authProvider =
await web3auth.connect();

provider =
new ethers.BrowserProvider(web3authProvider);

const signer =
await provider.getSigner();

address =
await signer.getAddress();

document.getElementById("connectBtn").style.display="none";

document.getElementById("dashboard").classList.remove("hidden");

updateBalance();

}

async function switchNetwork(){

currentChain =
document.getElementById("network").value;

updateBalance();

}

async function updateBalance(){

if(!address) return;

const rpc =
RPCS[currentChain];

const customProvider =
new ethers.JsonRpcProvider(rpc);

const balRaw =
await customProvider.getBalance(address);

const symbol =
SYMBOLS[currentChain];

document.getElementById("balance").innerHTML=

parseFloat(
ethers.formatEther(balRaw)
).toFixed(4)

+ " " + symbol;

}

window.onload = init;

</script>

</body>
</html>
